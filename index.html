<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Melissa Broggini</title>
    <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;1,400&display=swap" rel="stylesheet">
    <style>
        body {
            background-color: black;
            color: white;
            margin: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            user-select: none;
            /* Font principale per l'interfaccia */
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        }

        .top-header {
            position: absolute;
            top: 40px;
            width: 100%;
            text-align: center;
            font-weight: 300;
            letter-spacing: 8px;
            font-size: 14px;
            text-transform: uppercase;
            color: #888;
        }

        /* Contenitore Nome Centrale */
        #name-container {
            display: flex;
            gap: 0;
            margin-bottom: 20px; /* Spazio per il Lorem Ipsum */
        }

        .letter {
            font-size: clamp(40px, 8vw, 90px);
            font-weight: 900;
            text-transform: uppercase;
            display: inline-block;
            width: 1.1em;
            text-align: center;
            position: relative;
        }

        /* Testo descrittivo in Bembo (EB Garamond) */
        .description {
            font-family: 'EB Garamond', serif; /* Simile al Bembo */
            font-size: 1.2rem;
            max-width: 500px;
            text-align: center;
            line-height: 1.6;
            color: #ccc;
            opacity: 0.9;
            padding: 0 20px;
        }

        .runaway {
            position: absolute;
            cursor: pointer;
            z-index: 100;
            transition: transform 0.1s ease-out;
            color: white;
        }

        .placeholder {
            color: #111; 
            border-bottom: 3px solid #222;
        }

        .captured {
            transition: all 0.5s cubic-bezier(0.19, 1, 0.22, 1) !important;
            pointer-events: none;
        }

        .footer-nav {
            position: absolute;
            bottom: 40px;
            display: flex;
            gap: 25px;
        }

        .footer-nav a {
            color: #444;
            text-decoration: none;
            font-size: 11px;
            letter-spacing: 3px;
            text-transform: uppercase;
            transition: color 0.3s;
        }

        .footer-nav a:hover {
            color: white;
        }
    </style>
</head>
<body>

    <div class="top-header">Catch me if you can</div>

    <div id="name-container"></div>

    <p class="description">
            Seminario  introduzione alla porgrammazione <br>
            SUPSI SA25/26 <b>
            </b>Docente: Andrea Gysin
        </b>   
    </p>

    <nav class="footer-nav">
        <a href="#">Work</a>
        <a href="#">About</a>
        <a href="#">Contact</a>
    </nav>

    <script>
        const nome = "MELISSA BROGGINI";
        const container = document.getElementById('name-container');
        const fugitiveLetters = [];

        nome.split('').forEach((char, index) => {
            const slot = document.createElement('span');
            slot.className = 'letter';

            if (char === " ") {
                slot.style.width = "0.6em";
                container.appendChild(slot);
                return;
            }

            // Scappano alcune lettere specifiche
            const isFugitive = "MESBGI".includes(char) && Math.random() > 0.4;

            if (isFugitive) {
                slot.classList.add('placeholder');
                slot.innerHTML = "&nbsp;";
                container.appendChild(slot);

                const runaway = document.createElement('span');
                runaway.className = 'letter runaway';
                runaway.innerText = char;
                
                runaway.style.left = Math.random() * (window.innerWidth - 100) + "px";
                runaway.style.top = Math.random() * (window.innerHeight - 100) + "px";
                
                runaway.addEventListener('click', () => capture(runaway, slot));
                
                document.body.appendChild(runaway);
                fugitiveLetters.push(runaway);
            } else {
                slot.innerText = char;
                container.appendChild(slot);
            }
        });

        document.addEventListener('mousemove', (e) => {
            const mouseX = e.clientX;
            const mouseY = e.clientY;

            fugitiveLetters.forEach(el => {
                if (el.classList.contains('captured')) return;

                const rect = el.getBoundingClientRect();
                const elX = rect.left + rect.width / 2;
                const elY = rect.top + rect.height / 2;

                const distX = mouseX - elX;
                const distY = mouseY - elY;
                const distance = Math.hypot(distX, distY);

                if (distance < 120) {
                    const angle = Math.atan2(distY, distX);
                    const force = 180;

                    let newX = elX - Math.cos(angle) * force;
                    let newY = elY - Math.sin(angle) * force;

                    newX = Math.max(40, Math.min(window.innerWidth - 80, newX));
                    newY = Math.max(40, Math.min(window.innerHeight - 80, newY));

                    el.style.left = (newX - rect.width / 2) + "px";
                    el.style.top = (newY - rect.height / 2) + "px";
                }
            });
        });

        function capture(el, targetSlot) {
            el.classList.add('captured');
            const targetRect = targetSlot.getBoundingClientRect();
            
            el.style.left = targetRect.left + "px";
            el.style.top = targetRect.top + "px";

            setTimeout(() => {
                targetSlot.innerText = el.innerText;
                targetSlot.classList.remove('placeholder');
                el.remove();
            }, 500);
        }
    </script>
</body>
</html>